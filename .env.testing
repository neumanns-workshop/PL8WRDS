# Testing Environment Configuration
# Optimized for CI/CD and automated testing

# Application Settings
ENVIRONMENT=test
APP_PORT=8000
LOG_LEVEL=WARNING
DEBUG=false
RELOAD=false

# API Settings
API_BASE_URL=http://localhost:8000
ENABLE_SWAGGER_UI=false
ENABLE_REDOC=false

# Redis Configuration (use in-memory for testing)
REDIS_URL=redis://localhost:6379
REDIS_PORT=6379
REDIS_PASSWORD=

# Cache Settings (short TTL for testing)
CACHE_TTL=60
CACHE_PREFIX=pl8wrds:test:

# Database (use test database)
DATABASE_URL=postgresql://pl8wrds:pl8wrds@localhost:5432/pl8wrds_test
POSTGRES_DB=pl8wrds_test
POSTGRES_USER=pl8wrds
POSTGRES_PASSWORD=pl8wrds

# External Services (mock or test endpoints)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=test-model
OPENAI_API_KEY=test-key

# Model Paths (test data)
MODEL_PATH=models/test_model.joblib
FEATURE_CACHE_PATH=cache/test_corpus_features.json
CORPUS_STATS_PATH=cache/test_corpus_stats.json
DICTIONARY_PATH=data/test_words.json

# Performance (minimal for testing)
WORKERS=1
WORKER_CONNECTIONS=10
MAX_REQUESTS=50
TIMEOUT=30

# Security (relaxed for testing)
SECRET_KEY=test-secret-key
API_KEY=test-api-key
ALLOWED_ORIGINS=*
ALLOWED_METHODS=*
ALLOWED_HEADERS=*
RATE_LIMIT_ENABLED=false

# Monitoring (disabled for testing)
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
METRICS_ENABLED=false

# Logging (minimal for testing)
LOG_FORMAT=text
LOG_LEVEL=ERROR
LOG_FILE_PATH=logs/test.log

# Feature Flags (testing optimized)
ENABLE_METRICS_ENDPOINT=false
ENABLE_HEALTH_CHECKS=true
ENABLE_CORS=true
ENABLE_GZIP=false
ENABLE_ASYNC_PROCESSING=false
ENABLE_CACHING=false
ENABLE_RATE_LIMITING=false

# Testing Specific Settings
TESTING=true
TEST_DATABASE_URL=postgresql://pl8wrds:pl8wrds@localhost:5432/pl8wrds_test
PYTEST_CURRENT_TEST=true

# Test Data Settings
CREATE_TEST_DATA=true
CLEANUP_TEST_DATA=true
TEST_DATA_SIZE=small

# Performance Testing
LOAD_TEST_USERS=10
LOAD_TEST_DURATION=60
PERFORMANCE_THRESHOLD_MS=500

# Coverage Settings
COVERAGE_THRESHOLD=80
COVERAGE_FAIL_UNDER=80

# Container Settings (minimal resources)
APP_MEMORY_LIMIT=512M
APP_CPU_LIMIT=0.5
REDIS_MEMORY_LIMIT=128M
REDIS_CPU_LIMIT=0.1